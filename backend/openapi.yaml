# [START swagger]
swagger: "2.0"
info:
  description: "Endpoints for GestureWeb"
  title: "GestureWeb Endpoints"
  version: "1.0.0"
host: "echo-api.endpoints.tidal-guild-214115.cloud.goog"
# [END swagger]
consumes:
- "application/json"
produces:
- "application/json"
schemes:
- "http"
paths:
  "/api/users":
    post:
      description: "Creates a new user"
      operationId: users_create
      responses:
        201:
          description: "User created successfully"
          schema:
            $ref: "#/definitions/user"
        400:
          description: "Failed to create user"
      parameters:
      - name: id
        description: "The email of the user"
        required: true
        in: body
        schema:
          type: string
          format: email
      - name: username
        description: "The username of the user"
        required: true
        in: body
        schema:
          type: string
      - name: firstName
        description: "The first name of the user"
        required: true
        in: body
        type: string
      - name: lastName
        description: "The last name of the user"
        required: true
        in: body
        type: string
      - name: password
        description: "The user's password"
        required: true
        in: body
        type: string
    get:
      description: "Get all existing users"
      operationId: users_list
      responses:
        200:
          schema:
            type: array
            items:
              $ref: "#/definitions/user"
        400:
          description: "Failed to list users"
  "/api/users/{id}":
    get:
      description: "Get a specific user"
      operationId: users_retrieve
      responses:
        200:
          schema:
            $ref: "#/definitions/user"
        400:
          description: "Failed to retrieve user"
      parameters:
      - name: id
        in: path
        description: "The id of the user to retrieve"
        required: true
        type: string
    put:
      description: "Update a specific user"
      operationId: users_update
      responses:
        200:
          schema:
            $ref: "#/definitions/user"
        400:
          description: "Failed to update user"
      parameters:
      - name: id
        in: path
        description: "The id of the user to update"
        required: true
        type: string
    delete:
      description: "Delete a user"
      operationId: users_destroy
      responses:
        200:
          schema:
            $ref: "#/definitions/deleteResponse"
  "/api/experiments":
    post:
      description: "Create an experiment."
      operationId: "experiments_create"
      produces:
      - "application/json"
      responses:
        200:
          description: "Successful experiment creation"
          schema:
            $ref: "#/definitions/experiment"
        400:
          description: "Failed experiment creation"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "Name of the experiment"
        in: body
        name: name
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "Description of the experiment"
        in: body
        name: description
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "Start date of the experiment"
        in: body
        name: startDate
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "End date of the experiment"
        in: body
        name: endDate
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "User ID of the experiment"
        in: body
        name: user_id
        required: true
        schema:
          $ref: "#/definitions/experiment"
    get:
      description: "Returns the list of experiments."
      operationId: "experiments_list"
      produces:
      - "application/json"
      responses:
        200:
          description: "Successful experiment list"
          schema:
            type: array
            $ref: "#/definitions/experiment"
        400:
          description: "Failed experiment list"
          schema:
            $ref: "#/definitions/ErrorModel"
  "/api/experiments/{id}":
    get:
      description: "Retrieves an experiment"
      operationId: "experiments_retrieve"
      produces:
      - "application/json"
      responses:
        200:
          description: "Sucessful experiment retrieve"
          schema:
            $ref: "#/definitions/experiment"
        400:
          description: "Failed experiment retrieve"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "ID of the experiment"
        in: path
        name: id
        required: true
        schema:
          $ref: "#/definitions/experiment"
    put:
      description: "Updates an experiment"
      operationId: "experiments_update"
      produces:
      - "application/json"
      responses:
        200:
          description: "Succesful experiment update"
          schema:
            $ref: "#/definitions/experiment"
        400:
          description: "Failed experiment update"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "ID of the experiment"
        in: path
        name: id
        required: true
        schema:
          $ref: "#/definitions/experiment" 
      - description: "Name of the experiment"
        in: body
        name: name
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "Description of the experiment"
        in: body
        name: description
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "Start date of the experiment"
        in: body
        name: startDate
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "End date of the experiment"
        in: body
        name: endDate
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "User ID of the experiment"
        in: body
        name: user_id
        required: true
        schema:
          $ref: "#/definitions/experiment"
    delete:
      description: "Deletes an experiment"
      operationId: "experiments_delete"
      produces:
      - "application/json"
      responses:
        200:
          description: "Sucessful experiment deletion"
          schema:
            $ref: "#/definitions/deleteResponse"
        400:
          description: "Failed experiment deletion"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "ID of the experiment"
        in: path
        name: id
        required: true
        schema:
          $ref: "#/definitions/experiment"
  "/api/participants":
    post:
      description: "Create a participant."
      operationId: "participants_create"
      produces:
      - "application/json"
      responses:
        200:
          description: "Successful participant creation"
          schema:
            $ref: "#/definitions/participant"
        400:
          description: "Failed participant creation"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "ID of the experiment in which the participant is registered"
        in: body
        name: experiment_id
        required: true
        schema:
          $ref: "#/definitions/participant"
      - description: "Name of the participant"
        in: body
        name: name
        required: true
        schema:
          $ref: "#/definitions/participant"
      - description: "Age of the participant"
        in: body
        name: age
        required: true
        schema:
          $ref: "#/definitions/participant"
      - description: "Gender of the participant"
        in: body
        name: gender
        required: true
        schema:
          $ref: "#/definitions/participant"
      - description: "Ethnic group of the participant"
        in: body
        name: ethnicGroup
        required: true
        schema:
          $ref: "#/definitions/participant"
      - description: "Education level of the participant"
        in: body
        name: educationLevel
        required: true
        schema:
          $ref: "#/definitions/participant"
    get:
      description: "Returns the list of participants."
      operationId: "participants_list"
      produces:
      - "application/json"
      responses:
        200:
          description: "Successful participant list"
          schema:
            type: array
            $ref: "#/definitions/participant"
        400:
          description: "Failed participant list"
          schema:
            $ref: "#/definitions/ErrorModel"
  "/api/participants/{id}":
    get:
      description: "Retrieves a participant"
      operationId: "participants_retrieve"
      produces:
      - "application/json"
      responses:
        200:
          description: "Sucessful participant retrieve"
          schema:
            $ref: "#/definitions/participant"
        400:
          description: "Failed participant retrieve"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "ID of the participant"
        in: path
        name: id
        required: true
        schema:
          $ref: "#/definitions/participant"
    put:
      description: "Updates a participant."
      operationId: "participants_update"
      produces:
      - "application/json"
      responses:
        200:
          description: "Successful participant update"
          schema:
            $ref: "#/definitions/participant"
        400:
          description: "Failed participant update"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "ID of the participant"
        in: path
        name: id
        required: true
        schema:
          $ref: "#/definitions/participant" 
      - description: "Name of the participant"
        in: body
        name: name
        required: true
        schema:
          $ref: "#/definitions/participant"
      - description: "Age of the participant"
        in: body
        name: age
        required: true
        schema:
          $ref: "#/definitions/participant"
      - description: "Gender of the participant"
        in: body
        name: gender
        required: true
        schema:
          $ref: "#/definitions/participant"
      - description: "Ethnic group of the participant"
        in: body
        name: ethnicGroup
        required: true
        schema:
          $ref: "#/definitions/participant"
      - description: "Education level of the participant"
        in: body
        name: educationLevel
        required: true
        schema:
          $ref: "#/definitions/participant"
    delete:
      description: "Deletes a participant"
      operationId: "participants_delete"
      produces:
      - "application/json"
      responses:
        200:
          description: "Sucessful participant deletion"
          schema:
            $ref: "#/definitions/deleteResponse"
        400:
          description: "Failed participant deletion"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "ID of the participant"
        in: path
        name: id
        required: true
        schema:
          $ref: "#/definitions/participant"
  "/api/questions":
    post:
      description: "Creates a new question"
      operationId: questions_list
      responses:
        201:
          schema:
            $ref: "$/definitions/question"
        400:
          description: "Failed to create question"
      parameters:
      - name: text
        description: "The text to display for the question"
        required: true
        in: body
        type: string
      - name: initialImage
        description: "The URL of the initial image"
        required: true
        in: body
        type: string
      - name: finalImage
        description: "The URL of the final image"
        required: true
        in: body
        type: string
      - name: initialSound
        description: "The URL of the initial sound"
        required: true
        in: body
        type: string
      - name: finalSound
        description: "The URL of the final sound"
        required: true
        in: body
        type: string
      - name: experiment_id
        description: "The id of the experiment which this question belongs to"
        required: true
        in: body
        type: number
    get:
      description: "Get all questions"
      operationId: questions_list
      responses:
        200:
          schema:
            type: array
            items:
              $ref: "#/definitions/question"
        400:
          description: "Failed to list questions"
  "/api/questions/{id}":
    get:
      description: "Get a specific question"
      operationId: questions_retrieve
      responses:
        200:
          schema:
            $ref: "#/definitions/question"
        400:
          description: "Failed to retrieve question"
      parameters:
      - name: id
        in: path
        description: "The id of the question to retrieve"
        required: true
        type: number
    put:
      description: "Update a specific question"
      operationId: questions_update
      responses:
        200:
          schema:
            $ref: "#/definitions/quesion"
        400:
          description: "Failed to update question"
      parameters:
      - name: id
        in: path
        description: "The id of the question to update"
        required: true
        type: number
    delete:
      description: "Delete a specific question"
      operationId: questions_destroy
      responses:
        200:
          schema:
            $ref: "#/definitions/deleteResponse"
        400:
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - name: id
        in: path
        description: "The id of the question to delete"
        required: true
        type: number
 
definitions:

  user:
    type: object
    properties:
      username:
        type: string
      firstName:
        type: string
      lastName:
        type: string
      password:
        type: string

  experiment:
    type: object
    properties:
      id:
        type: number
      name:
        type: string
      description:
        type: string
      startDate:
        type: string
      endDate:
        type: string
      user_id:
        type: string

  participant:
    type: object
    properties:
      id:
        type: number
      experiment_id:
        type: number
      name:
        type: string
      age:
        type: number
      gender:
        type: string
      ethnicGroup:
        type: string
      educationLevel:
        type: string

  question:
    type: object
    properties:
      experiment_id:
        type: number
      text:
        type: string
      initialImage:
        type: string
      finalImage:
        type: string
      initialSound:
        type: string
      finalSound:
        type: string

  deleteResponse:
    type: object
    properties:
      status: 
        type: number
      message:
        type: string