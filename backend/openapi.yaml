# [START swagger]
swagger: "2.0"
info:
  description: "Endpoints for GestureWeb"
  title: "GestureWeb Endpoints"
  version: "1.0.0"
host: "echo-api.endpoints.tidal-guild-214115.cloud.goog"
# [END swagger]
consumes:
- "application/json"
produces:
- "application/json"
schemes:
- "http"
paths:
  "/api/users":
    post:
      description: "Creates a new user"
      operationId: users_create
      responses:
        201:
          description: "User created successfully"
          schema:
            $ref: "#/definitions/user"
        400:
          description: "Failed to create user"
      parameters:
      - name: id
        description: "The email of the user"
        required: true
        in: body
        schema:
          type: string
          format: email
      - name: username
        description: "The email of the user"
        required: true
        in: body
        schema:
          type: string
          format: email
      - name: firstName
        description: "The first name of the user"
        required: true
        in: body
        type: string
      - name: lastName
        description: "The last name of the user"
        required: true
        in: body
        type: string
      - name: password
        description: "The user's password"
        required: true
        in: body
        type: string
    get:
      description: "Get all existing users"
      operationId: users_list
      responses:
        200:
          schema:
            type: array
            items:
              $ref: "#/definitions/user"
        400:
          description: "Failed to list users"
  "/api/users/{id}":
    get:
      description: "Get a specific user"
      operationId: users_retrieve
      responses:
        200:
          schema:
            $ref: "#/definitions/user"
        400:
          description: "Failed to retrieve user"
      parameters:
      - name: id
        in: path
        description: "The id of the user to retrieve"
        required: true
        type: string
    put:
      description: "Update a specific user"
      operationId: users_update
      responses:
        200:
          schema:
            $ref: "#/definitions/user"
        400:
          description: "Failed to update user"
      parameters:
      - name: id
        in: path
        description: "The id of the user to update"
        required: true
        type: string
    delete:
      description: "Delete a user"
      operationId: users_destroy
      responses:
        200:
          schema:
            $ref: '#/definitions/deleteResponse'
    "/api/experiments":
    post:
      description: "Echo a given message."
      operationId: "experiments_create"
      produces:
      - "application/json"
      responses:
        '200':
          description: "Successful experiment creation"
          schema:
            $ref: "#/definitions/experiment"
        '400':
          description: "Failed experiment creation"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "Name of the experiment"
        in: body
        name: name
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "Description of the experiment"
        in: body
        name: description
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "Start date of the experiment"
        in: body
        name: startDate
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "End date of the experiment"
        in: body
        name: endDate
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "User ID of the experiment"
        in: body
        name: user_id
        required: true
        schema:
          $ref: "#/definitions/experiment"
    get:
      description: "Returns the list of experiments."
      operationId: "experiments_list"
      produces:
      - "application/json"
      responses:
        '200':
          description: "Successful experiment list"
          schema:
            type: array
            $ref: "#/definitions/experiment"
        '400':
          description: "Failed experiment list"
          schema:
            $ref: "#/definitions/ErrorModel"
  "/api/experiments/{id}":
    get:
      description: "Retrieves an experiment"
      operationId: "experiments_retrieve"
      produces:
      - "application/json"
      responses:
        '200':
          description: "Sucessful experiment retrieve"
          schema:
            $ref: "#/definitions/experiment"
        '400':
          description: "Failed experiment retrieve"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "ID of the experiment"
        in: path
        name: id
        required: true
        schema:
          $ref: "#/definitions/experiment"
    put:
      description: "Updates an experiment"
      operationId: "experiments_update"
      produces:
      - "application/json"
      responses:
        '200':
          description: "Succesful experiment update"
          schema:
            $ref: "#/definitions/experiment"
        '400':
          description: "Failed experiment update"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "ID of the experiment"
        in: path
        name: id
        required: true
        schema:
          $ref: "#/definitions/experiment" 
      - description: "Name of the experiment"
        in: body
        name: name
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "Description of the experiment"
        in: body
        name: description
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "Start date of the experiment"
        in: body
        name: startDate
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "End date of the experiment"
        in: body
        name: endDate
        required: true
        schema:
          $ref: "#/definitions/experiment"
      - description: "User ID of the experiment"
        in: body
        name: user_id
        required: true
        schema:
          $ref: "#/definitions/experiment"
    delete:
      description: "Deletes an experiment"
      operationId: "experiments_delete"
      produces:
      - "application/json"
      responses:
        '200':
          description: "Sucessful experiment deletion"
          schema:
            $ref: "#/definitions/deleteExperimentResponse"
        '400':
          description: "Failed experiment deletion"
          schema:
            $ref: "#/definitions/ErrorModel"
      parameters:
      - description: "ID of the experiment"
        in: path
        name: id
        required: true
        schema:
          $ref: "#/definitions/experiment"

definitions:

  user:
    type: object
    properties:
      username:
        type: string
      firstName:
        type: string
      lastName:
        type: string
      password:
        type: string

  experiment:
    type: object
    properties:
      id:
        type: number
      name:
        type: string
      description:
        type: string
      startDate:
        type: string
      endDate:
        type: string
      user_id:
        type: string

  deleteResponse:
    type: object
    properties:
      status: 
        type: number
      message:
        type: string